% extends 'base.html' %}
{% block content %}
<h3 class="mb-4">Panel de Administraci√≥n</h3>

<div class="admin-grid">
  <!-- M√©tricas r√°pidas -->
  <div class="card stat-users">
    <i class="bi bi-person-fill text-danger fs-2"></i>
    <p>Usuarios registrados</p>
    <h2>{{ total_users }}</h2>
  </div>

  <div class="card stat-files">
    <i class="bi bi-file-earmark-fill text-danger fs-2"></i>
    <p>Archivos almacenados</p>
    <h2>{{ total_files }}</h2>
  </div>

  <div class="card stat-activity">
    <i class="bi bi-activity text-danger fs-2"></i>
    <p>Eventos registrados</p>
    <h2>{{ total_logs }}</h2>
  </div>

  <!-- Logs del sistema -->
  <div class="card terminal-log">
    <h5>üñ•Ô∏è Log del sistema</h5>
    <pre>
[INFO] Nuevo usuario creado: profe01
[INFO] Archivo subido: evidencia.pdf por profe01
[INFO] Usuario inici√≥ sesi√≥n: profe01
    </pre>
  </div>

  <!-- Gesti√≥n de usuarios y archivos -->
  <div class="card admin-panel">
    <h5>Gesti√≥n del sistema</h5>

    <section>
      <h6>Usuarios registrados</h6>
      <table class="table table-striped">
        <thead><tr><th>Usuario</th><th>Rol</th><th>Acci√≥n</th></tr></thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.role }}</td>
            <td><button class="btn btn-sm btn-outline-danger">Editar rol</button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <section>
      <h6>Archivos subidos</h6>
      <table class="table table-striped">
        <thead><tr><th>Archivo</th><th>Usuario</th><th>Fecha</th><th>Acci√≥n</th></tr></thead>
        <tbody>
          {% for file in files %}
          <tr>
            <td>{{ file.name }}</td>
            <td>{{ file.user }}</td>
            <td>{{ file.date }}</td>
            <td><button class="btn btn-sm btn-outline-danger">Eliminar</button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </div>

  <!-- Archivos personales del admin -->
  <div class="card admin-files">
    <h5>üìÇ Archivos del administrador</h5>
    <ul>
      <li>manual_uso.pdf</li>
      <li>configuracion.txt</li>
      <li>guia_rapida.docx</li>
    </ul>
  </div>
</div>
{% endblock %}
