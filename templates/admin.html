{% extends 'base.html' %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">

<h3 class="title">Panel de Administraci√≥n</h3>

<div class="admin-grid">
  <div class="div1 card">
    <i class="bi bi-person-fill icon"></i>
    <h4>Usuarios registrados</h4>
    <h2>{{ total_users }}</h2>
  </div>

  <div class="div2 card">
    <i class="bi bi-file-earmark-fill icon"></i>
    <h4>Archivos almacenados</h4>
    <h2>{{ total_files }}</h2>
  </div>

  <div class="div3 card">
    <i class="bi bi-activity icon"></i>
    <h4>Eventos registrados</h4>
    <h2>{{ total_logs }}</h2>
  </div>

  <div class="div4 card terminal-log">
    <h5>üñ•Ô∏è Log del sistema</h5>
    <pre>
[INFO] Nuevo usuario creado: profe01
[INFO] Archivo subido: evidencia.pdf por profe01
[INFO] Usuario inici√≥ sesi√≥n: profe01
    </pre>
  </div>

  <div class="div5 card admin-panel">
    <h5>Gesti√≥n del sistema</h5>

    <section>
      <h6>Usuarios registrados</h6>
      <table class="table table-striped">
        <thead>
          <tr><th>Usuario</th><th>Rol</th><th>Acci√≥n</th></tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.role }}</td>
            <td><button class="btn-edit">Editar rol</button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <section>
      <h6>Archivos subidos</h6>
      <table class="table table-striped">
        <thead>
          <tr><th>Archivo</th><th>Usuario</th><th>Fecha</th><th>Acci√≥n</th></tr>
        </thead>
        <tbody>
          {% for file in files %}
          <tr>
            <td>{{ file.name }}</td>
            <td>{{ file.user }}</td>
            <td>{{ file.date }}</td>
            <td><button class="btn-delete">Eliminar</button></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </div>

  <div class="div6 card admin-files">
    <h5>üìÇ Archivos del administrador</h5>
    <ul>
      <li>manual_uso.pdf</li>
      <li>configuracion.txt</li>
      <li>guia_rapida.docx</li>
    </ul>
  </div>
</div>
{% endblock %}
